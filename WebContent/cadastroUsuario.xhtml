<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Estoque Unipê</title>
</h:head>
<h:body>
	<h:form id="form" prependId="false">
		<p:panel id="panel" header="Cadastro de Usuário">
		
			<p:messages id="msgs" />	
					
			<h:panelGrid columns="3" cellpadding="5">
			
				<p:outputLabel value="Nome:" for="nome" />
				<p:inputText id="nome" value="#{usuarioBean.usuario.nome}"
				required="true" label="nome">
				<f:validateLength minimum="30" />
				</p:inputText>
				<p:message for="nome" display="icon" />
				
				<p:outputLabel value="Username:" for="username"/>
				<p:inputText id="username" value="#{usuarioBean.usuario.username}" 
				required="true" label="username">
				<f:validateLength minimum="4" />
				</p:inputText>
				<p:message for="username" display="icon"/>
				
				<p:outputLabel value="Password:" for="password"/>
				<p:password id="password" value="#{usuarioBean.usuario.password}"
				required="true" label="password" feedback="true">
				<f:validateLength minimum="8" />
				</p:password>
				<p:message for="password" display="icon"/>
				
				<p:outputLabel value="Data Nascimento:" for="dtNasc"/>
				<p:calendar id="dtNasc" value="#{usuarioBean.usuario.data}" 
				required="true" showOn="button" navigator="true"
						validator="datanascimentoValidator" />
				<p:message for="dtNasc"/>
				
				<p:outputLabel value="Email:" for="email"/>
				<p:inputText id="email" value="#{usuarioBean.usuario.email}"
				required="true" validator="emailValidator">
				</p:inputText>
				<p:message for="email" display="icon"/>
				
				<p:outputLabel value="CEP:" for="cep" />
				<p:inputMask id="cep" value="#{usuarioBean.usuario.endereco}"
				required="true" label="cep" mask="99.999-999">
				<f:validateLength minimum="8" />
				</p:inputMask>
				<p:message for="cep" display="icon"/>
				
				<p:outputLabel value="Número:" for="numero"/>
				<p:inputMask id="numero" value="#{usuarioBean.usuario.numero}"
				required="true" label="numero" mask="(999) 9 9999-9999">
				<f:validateLength minimum="8" />
				</p:inputMask>
				<p:message for="numero" display="icon"/>
				
				<p:outputLabel value="Sexo:" for="sexo"/>
				<p:selectOneRadio id="sexo" value="#{usuarioBean.usuario.sexo}">
					<f:selectItem itemLabel="Masculino" itemValue="M" />
					<f:selectItem itemLabel="Feminino" itemValue="F" />
				</p:selectOneRadio>
				<p:message for="sexo" display="icon"/>
				
				<p:outputLabel value="Tipo:" for="tipo"/>
				<p:selectOneRadio id="tipo" value="#{usuarioBean.usuario.tipo}">
					<f:selectItem itemLabel="Pessoa Física" itemValue="PF" />
					<f:selectItem itemLabel="Pessoa Jurídica" itemValue="PJ" />
					<p:ajax listener="#{usuarioBean.renderizar}" update="form" />
				</p:selectOneRadio>
				<p:message for="tipo" display="icon"/>
				
				<p:fieldset>
					<p:outputLabel value="CPF:" for="cpf" />
					<p:inputMask id="cpf" value="#{usuarioBean.usuario.documento}" disabled="#{usuarioBean.isRenderiza}" 
					required="true" converter="cpfConverter" mask="999.999.999-99"/>					
				</p:fieldset>
				<p:fieldset rendered="#{usuarioBean.isRenderiza}">

						<p:outputLabel for="cnpj" value="CNPJ: " />
						<p:inputMask mask="99.999.999/9999-99" id="cnpj" value="#{usuarioBean.usuario.documento}"
							converter="cnpjConverter" />
				</p:fieldset>
								
				<p:commandButton value="Cadastrar" update="panel" action="#{usuarioBean.adicionarUsuario}"/>				
			</h:panelGrid>			
		</p:panel>
	</h:form>
</h:body>
</html>


